<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Virtual Tour</title>
        <meta name="description" content="360&deg; Image Gallery - A-Frame">
        <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
        <script src="https://unpkg.com/aframe-event-set-component@5/dist/aframe-event-set-component.min.js"></script>
        <script src="https://unpkg.com/aframe-template-component@3.2.1/dist/aframe-template-component.min.js"></script>
        <script src="https://unpkg.com/aframe-proxy-event-component@2.1.0/dist/aframe-proxy-event-component.min.js"></script>
        <script src="js/hotspotClicked.js"></script>
        <script src="js/index.js"></script>
    </head>
    <body>
        <a-scene starting-scene="scene: sceneHallMiddle1">
            <a-assets>
                <audio id="click-sound" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/audio/click.ogg"></audio>
                <img id="arrow" crossorigin="anonymous" src="img/navArrow.png" transparent="true" alpha-test="0.8">
                
                <!--Middle-->
                    <img id="hallMiddle1" crossorigin="anonymous" src="img/panoramas/2floor/hallMiddle1.jpg">
                    <img id="hallMiddle2" crossorigin="anonymous" src="img/panoramas/2floor/hallMiddle2.jpg">
                <!--/Middle-->

                <!--Left side-->
                    <img id="hallLeft1" crossorigin="anonymous" src="img/panoramas/2floor/hallLeft1.jpg">
                    <img id="hallLeft2" crossorigin="anonymous" src="img/panoramas/2floor/hallLeft2.jpg">
                    <img id="hallLeft3" crossorigin="anonymous" src="img/panoramas/2floor/hallLeft3.jpg">
                    <img id="hallLeft4" crossorigin="anonymous" src="img/panoramas/2floor/hallLeft4.jpg">
                <!--/Left side-->

                <!--Right side-->
                    <img id="hallRight1" crossorigin="anonymous" src="img/panoramas/2floor/hallRight1.jpg">
                    <img id="hallRight2" crossorigin="anonymous" src="img/panoramas/2floor/hallRight2.jpg">
                    <img id="hallRight3" crossorigin="anonymous" src="img/panoramas/2floor/hallRight3.jpg">
                <!--/Right side-->

                <script id="link" type="text/html">
                    <a-entity class="link"
                    geometry="primitive: plane; height: 2; width: 2"
                    material="shader: flat; depth: 5; src: ${thumb}; transparent: true;"
                    event-set__mouseenter="scale: 1.2 1.2 1"
                    event-set__mouseleave="scale: 1 1 1"
                    hotspot-clicked="loadScene: ${src}"
                    sound="on: click; src: #click-sound"></a-entity>
                </script>
            </a-assets>

            <!--Middle-->
                <a-entity id="sceneHallMiddle1" class="scene">
                    <a-sky src="#hallMiddle1"></a-sky>
                    <a-entity template="src: #link" data-src="sceneHallMiddle2" data-thumb="#arrow" position="-0.65 -2.5 10" rotation="-30 180 0"></a-entity>
                    <a-entity template="src: #link" data-src="sceneHallRight1" data-thumb="#arrow" position="0.2 -2.8 -8.5" rotation="-60 0 -5"></a-entity>
                </a-entity>

                <a-entity id="sceneHallMiddle2" class="scene" visible="false">
                    <a-sky src="#hallMiddle2"></a-sky>
                    <a-entity template="src: #link" data-src="sceneHallLeft1" data-thumb="#arrow" position="-12.5 -2.3 0" rotation="-40 90 0"></a-entity>
                    <a-entity template="src: #link" data-src="sceneHallMiddle1" data-thumb="#arrow" position="10.3 -3.2 -1.9" rotation="0.2 -90 6"></a-entity>
                </a-entity>
            <!--/Middle-->

            <!--Left side-->
                <a-entity id="sceneHallLeft1" class="scene" visible="false">
                    <a-sky src="#hallLeft1"></a-sky>
                    <a-entity template="src: #link" data-src="sceneHallLeft2" data-thumb="#arrow" position="-12.5 -2.3 0" rotation="-40 90 0"></a-entity>
                    <a-entity template="src: #link" data-src="sceneHallMiddle2" data-thumb="#arrow" position="10.3 -3.2 -0.9" rotation="0.2 -80 0"></a-entity>
                </a-entity>

                <a-entity id="sceneHallLeft2" class="scene" visible="false">
                    <a-sky src="#hallLeft2"></a-sky>
                    <a-entity template="src: #link" data-src="sceneHallLeft3" data-thumb="#arrow" position="-12.5 -2.3 0" rotation="-40 90 0"></a-entity>
                    <a-entity template="src: #link" data-src="sceneHallLeft1" data-thumb="#arrow" position="10.3 -3.2 -2.8" rotation="0.2 -80 3"></a-entity>
                </a-entity>

                <a-entity id="sceneHallLeft3" class="scene" visible="false">
                    <a-sky src="#hallLeft3"></a-sky>
                    <a-entity template="src: #link" data-src="sceneHallLeft4" data-thumb="#arrow" position="-0.3 -2.6 -7.4" rotation="-40 0 0"></a-entity>
                    <a-entity template="src: #link" data-src="sceneHallLeft2" data-thumb="#arrow" position="10.3 -3.2 -0.2" rotation="0.2 -80 0"></a-entity>
                </a-entity>

                <a-entity id="sceneHallLeft4" class="scene" visible="false">
                    <a-sky src="#hallLeft4"></a-sky>
                    <a-entity template="src: #link" data-src="sceneHallLeft3" data-thumb="#arrow" position="10.3 -3.2 -2.7" rotation="0.2 -80 5"></a-entity>
                </a-entity>

            <!--Right side-->
                <a-entity id="sceneHallRight1" class="scene" visible="false">
                    <a-sky src="#hallRight1"></a-sky>
                    <a-entity template="src: #link" data-src="sceneHallRight2" data-thumb="#arrow" position="-0.2 -3.5 8" rotation="-40 170 0"></a-entity>
                    <a-entity template="src: #link" data-src="sceneHallMiddle1" data-thumb="#arrow" position="10.3 -3.2 -0.3" rotation="0.2 -80 0"></a-entity>
                </a-entity>

                <a-entity id="sceneHallRight2" class="scene" visible="false">
                    <a-sky src="#hallRight2"></a-sky>
                    <a-entity template="src: #link" data-src="sceneHallRight3" data-thumb="#arrow" position="-12.5 -2.3 -0.6" rotation="-40 90 0"></a-entity>
                    <a-entity template="src: #link" data-src="sceneHallRight1" data-thumb="#arrow"position="10.2 -3.1 1" rotation="0.2 -100 3"></a-entity>
                </a-entity>

                <a-entity id="sceneHallRight3" class="scene" visible="false">
                    <a-sky src="#hallRight3"></a-sky>
                    <a-entity template="src: #link" data-src="sceneHallRight2" data-thumb="#arrow" position="11.1 -3.2 -0.9" rotation="0.2 -80 -5"></a-entity>
                </a-entity>
            <!--/Right side-->

            <!-- Camera + cursor -->
            <a-camera rotation="0 90 0" wasd-controls-enabled="false">
                <a-cursor
                id="cursor"
                animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150"
                animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 1500"
                event-set__mouseenter="_event: mouseenter; color: springgreen"
                event-set__mouseleave="_event: mouseleave; color: black"
                raycaster="objects: .clickable"></a-cursor>
            </a-camera>
        </a-scene>
    </body>
</html>